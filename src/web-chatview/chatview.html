<html>
<!-- Empty head might be needed for setSenderImage -->

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta charset="utf-8">
</head>

<body>
    <div id="wrapperOfNavbar" class="navbar-wrapper">
        <div id="navbar">
            <div id="backButton" class="nav-button non-action-button nav-left" onmouseover="addBackButtonHoverProperty()"
                onclick="backToWelcomeView()">
                <svg class="svgicon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24">
                    <path d="M0 0h24v24H0z" fill="none" />
                    <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" />
                </svg>
            </div>
            <div id="nav-contactid" class="nav-left">
                <div id="nav-contactid-wrapper">
                    <div id="nav-contactid-alias"></div>
                    <div id="nav-contactid-bestId"></div>
                </div>
            </div>
            <div id="optionsButton" style="display:none" class="deactivated nav-button action-button nav-right" onclick="moreOptions()">
                <svg class="svgicon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24">
                    <path d="M0 0h24v24H0z" fill="none" />
                    <path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" />
                </svg>
            </div>
            <div id="callButtons">
                <!-- callButtons block allows more efficient hiding of placeCallButton and placeAudioCallButton -->
                <div id="placeCallButton" class="nav-button action-button nav-rigth" onclick="placeCall();">
                    <svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g id="Icones_Outline" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <g id="Camera" fill-rule="nonzero" stroke="#000000" stroke-width="1.3">
                                <g id="Ico_Camera" transform="translate(2.000000, 6.000000)">
                                    <path d="M14.838,0.964 L15.0727616,4.95098691 L18.549033,2.8441558 L19.1831325,10.5544613 L15.0431125,8.28294586 L15.0431125,12.1828061 C15.0222904,12.2250926 14.9986583,12.2532258 14.9607672,12.2532258 L14.9607672,12.2532258 L0.881,12.253 L0.654407741,1.14977472 L14.838,0.964 Z" id="Path"></path>
                                </g>
                            </g>
                        </g>
                    </svg>
                </div>
                <div id="placeAudioCallButton" class="nav-button action-button" onclick="placeAudioCall();">
                    <svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g id="Icones_Outline" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <g id="Phone" stroke="#000000" stroke-width="1.3">
                                <g id="Ico_TEL" transform="translate(3.000000, 3.000000)">
                                    <path d="M2.08318114,0.702801822 C3.47221232,-0.375546383 4.67183016,-0.185249641 5.24007015,1.08339531 C6.37655021,3.36695621 7.19734136,4.50873667 6.37655021,5.39678812 C4.86124348,6.41170409 3.78790122,6.91916206 4.35614125,7.99751029 C5.49262131,10.7250969 7.70244359,13.0720901 10.3542304,14.4675995 C11.3644349,15.101922 11.9326749,14.0235738 13.0691549,12.6280643 C14.0162216,11.8668773 15.0895639,12.6914966 17.2993862,14.0235738 C18.4990041,14.7213285 18.5621418,15.8631089 17.4256618,17.1951861 C10.7961949,24.6801913 -5.80904142,6.85572983 2.08318114,0.702801822" id="Path"></path>
                                </g>
                            </g>
                        </g>
                    </svg>
                </div>
            </div>
            <div id="pluginsButton" style="display:none" class="nav-button action-button nav-right" onclick="openPluginHandlersList()">
                <svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                    <g id="Icones_Outline" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                        <g id="Plugin" fill="#000000" fill-rule="nonzero" stroke="#000000" stroke-width="0.25">
                            <g id="noun_add-on-plugin_2469914" transform="translate(2.000000, 2.000000)">
                                <path d="M7.95454545,-2.58379177e-14 C6.07714045,-2.58379177e-14 4.54545455,1.53168636 4.54545455,3.40909091 C4.54545455,3.81146364 4.63639864,4.18709545 4.765625,4.54545455 L0.454545455,4.54545455 C0.203517329,4.54547964 -3.28047432e-07,4.74897187 -3.28047432e-07,5 L-3.28047432e-07,9.54545909 C-3.28047432e-07,9.69805849 0.0762260247,9.84056553 0.20341697,9.92488084 C0.330607915,10.0091961 0.49161786,10.0240699 0.632102273,9.96448182 C0.928123182,9.84116364 1.2500475,9.77273182 1.59090909,9.77273182 C2.977005,9.77273182 4.09090909,10.8866409 4.09090909,12.2727318 C4.09090909,13.6588227 2.977005,14.7727318 1.59090909,14.7727318 C1.2500475,14.7727318 0.928123182,14.7043 0.632102273,14.5809591 C0.491614149,14.5213694 0.330599681,14.5362456 0.203407479,14.6205663 C0.0762152768,14.704887 -3.28047432e-07,14.8474011 -3.28047432e-07,15 L-3.28047432e-07,19.5454591 C-3.28047432e-07,19.7964872 0.203517329,20 0.454545455,20 L15.4545455,20 C15.7055736,20 15.9090658,19.7964872 15.9090909,19.5454591 L15.9090909,15.6108 C16.1285164,15.6553682 16.3589991,15.6818227 16.5909091,15.6818227 C18.4683141,15.6818227 19.9999997,14.1501409 19.9999997,12.2727318 C19.9999997,10.3953227 18.4683141,8.86363636 16.5909091,8.86363636 C16.3589991,8.86363636 16.1285164,8.89009545 15.9090909,8.93465909 L15.9090909,5 C15.9090658,4.74897187 15.7055736,4.54547964 15.4545455,4.54545455 L11.1434659,4.54545455 C11.2726923,4.18709545 11.3636364,3.81146364 11.3636364,3.40909091 C11.3636364,1.53168636 9.83195045,-2.58379177e-14 7.95454545,-2.58379177e-14 L7.95454545,-2.58379177e-14 Z M7.95454545,0.909090909 C9.34064136,0.909090909 10.4545455,2.02299545 10.4545455,3.40909091 C10.4545455,3.90517045 10.3070727,4.36090227 10.0568182,4.75142045 C9.96529803,4.89157836 9.95820859,5.07069263 10.0383647,5.21764558 C10.1185209,5.36459852 10.272952,5.45561067 10.4403409,5.45454545 L15,5.45454545 L15,9.54545909 C14.9998246,9.69805849 15.076226,9.84056553 15.203417,9.92488084 C15.3306079,10.0091961 15.4916179,10.0240699 15.6321023,9.96448182 C15.928123,9.84116364 16.2500475,9.77273182 16.5909091,9.77273182 C17.977005,9.77273182 19.0909091,10.8866409 19.0909091,12.2727318 C19.0909091,13.6588227 17.977005,14.7727318 16.5909091,14.7727318 C16.2500475,14.7727318 15.928123,14.7043 15.6321023,14.5809591 C15.4916141,14.5213694 15.3305997,14.5362456 15.2034075,14.6205663 C15.0762153,14.704887 14.999817,14.8474011 15,15.0000045 L15,19.0909136 L0.909090909,19.0909136 L0.909090909,15.6108 C1.12851636,15.6553682 1.35899909,15.6818227 1.59090909,15.6818227 C3.46831409,15.6818227 5,14.1501409 5,12.2727318 C5,10.3953227 3.46831409,8.86363636 1.59090909,8.86363636 C1.35899909,8.86363636 1.12851636,8.89009545 0.909090909,8.93465909 L0.909090909,5.45454545 L5.46875,5.45454545 C5.6361389,5.45561067 5.79057002,5.36459852 5.87072617,5.21764558 C5.95088232,5.07069263 5.94379288,4.89157836 5.85227273,4.75142045 C5.60201818,4.36090227 5.45454545,3.90517045 5.45454545,3.40909091 C5.45454545,2.02299545 6.56844955,0.909090909 7.95454545,0.909090909 L7.95454545,0.909090909 Z" id="Shape"></path>
                            </g>
                        </g>
                    </g>
                </svg>
            </div>
            <div id="addToConversationsButton" class="nav-button action-button nav-right" onclick="addToConversations();">
                <svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                    <g id="Icones_Outline" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                        <g id="Profil" stroke="#000000" stroke-width="1.3">
                            <g id="Ico_PROFIL" transform="translate(3.000000, 2.000000)">
                                <path d="M14,4.5 C14,6.98522308 11.9852231,9 9.5,9 C7.01477692,9 5,6.98522308 5,4.5 C5,2.0147769 7.01477692,0 9.5,0 C11.9852231,0 14,2.0147769 14,4.5 Z" id="Stroke-1"></path>
                                <path d="M0,20 C0,14.4771733 4.02947764,10 9.00005436,10 C13.9705224,10 18,14.4771733 18,20" id="Stroke-3"></path>
                            </g>
                        </g>
                    </g>
                </svg>
            </div>
            <div id="unbanButton" class="nav-button action-critical-button nav-right" onclick="addBannedContact()">
                <svg class="svgicon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                    <path fill="none" d="M0 0h24v24H0V0z" />
                    <circle cx="15" cy="8" r="4" />
                    <path d="M23 20v-2c0-2.3-4.1-3.7-6.9-3.9l6 5.9h.9zm-11.6-5.5C9.2 15.1 7 16.3 7 18v2h9.9l4 4 1.3-1.3-21-20.9L0 3.1l4 4V10H1v2h3v3h2v-3h2.9l2.5 2.5zM6 10v-.9l.9.9H6z" />
                </svg>
            </div>
        </div>
    </div>

    <div id="container">
        <div id="invitation" class="column">
                <div id="invitation_text_container" class="note_container">
                    <div id="invitation_text"></div>
                </div>

                <div id="invitation_rect">
                    <div id="invite_image"></div>
                    <div id="quote_img_wrapper">
                        <img id="quote_img" src="qrc:/images/icons/quote.svg"></img>
                    </div>
                    <div id="invite_text">
                        <div id="join_text"></div>
                        <div id="note_text"></div>
                    </div>
                    <div id="actions">
                        <button id="blockButton" class="text-button" onclick="blockConversation()">
                        </button>
                        <button id="refuseButton" class="text-button" onclick="refuseInvitation()">
                        </button>
                        <button id="acceptButton" class="text-button text-button-green" onclick="acceptInvitation()">
                        </button>
                    </div>
                </div>

            <div id="invitation_note_container" class="note_container">
                <div id="invitation_note"></div>
            </div>
        </div>

        <div id="messages" onscroll="onScrolled()"></div>

        <div id="typing_indicator_container"></div>

        <div id="back_to_bottom_button_container">
            <div id="back_to_bottom_button" onclick="back_to_bottom()">Jump to latest &#9660;</div>
        </div>
        <div id="send_inteface_container" onresize="updateBackToBottomContainer()">
            <div id="sendMessage">
                <div id="sendFileButton" class="nav-button action-button" onclick="selectFileToSend()">
                    <svg class="svgicon" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g id="Icones" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <g id="Link_Black_24dp" fill="#000000" fill-rule="nonzero" stroke="#000000" stroke-width="0.9">
                                <g transform="translate(6.981262, 2.084524)" id="Path">
                                    <path d="M4.58333333,20 C2.05607096,20 0,17.943929 0,15.4166667 L0,3.33333333 C0,1.49536133 1.49536133,0 3.33333333,0 C5.17130533,0 6.66666667,1.49536133 6.66666667,3.33333333 L6.66666667,14.1666667 C6.66666667,15.3153483 5.73201496,16.25 4.58333333,16.25 C3.43465171,16.25 2.5,15.3153483 2.5,14.1666667 L2.5,4.56075033 C2.5,4.33064779 2.68636067,4.14408367 2.91666667,4.14408367 C3.14697267,4.14408367 3.33333333,4.33064779 3.33333333,4.56075033 L3.33333333,14.1666667 C3.33333333,14.855957 3.89404296,15.4166667 4.58333333,15.4166667 C5.27262371,15.4166667 5.83333333,14.855957 5.83333333,14.1666667 L5.83333333,3.33333333 C5.83333333,1.95475258 4.71191404,0.833333333 3.33333333,0.833333333 C1.95475262,0.833333333 0.833333333,1.95475263 0.833333333,3.33333333 L0.833333333,15.4166667 C0.833333333,17.4843343 2.51546225,19.1666667 4.58333333,19.1666667 C6.65120442,19.1666667 8.33333333,17.4843343 8.33333333,15.4166667 L8.33333333,4.04276529 C8.33333333,3.81266275 8.519694,3.62609863 8.75,3.62609863 C8.980306,3.62609863 9.16666667,3.81266275 9.16666667,4.04276529 L9.16666667,15.4166667 C9.16666667,17.943929 7.11059571,20 4.58333333,20 Z"></path>
                                </g>
                            </g>
                        </g>
                    </svg>
                </div>
                <div id="audioRecordButton" class="action-button nav-button" onclick="audioRecord()">
                    <svg class="svgicon" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g id="Icones_Fill" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <g id="Message-audio">
                                <path d="M12,2 C17.5228475,2 22,6.4771525 22,12 L22,22 L22,22 L12,22 C6.4771525,22 2,17.5228475 2,12 C2,6.4771525 6.4771525,2 12,2 Z" id="Rectangle-Copy-3" fill="#000000"></path>
                                <g id="Group" transform="translate(9.000000, 7.000000)" fill="#FFFFFF" fill-rule="nonzero">
                                    <path d="M3.2826376,0.0495376956 C2.15075637,0.0495376956 1.23099067,0.969303261 1.23099067,2.10118448 L1.23099067,5.11026918 C1.23099067,6.24214903 2.15075637,7.16191596 3.2826376,7.16191596 C4.41451882,7.16191596 5.33428439,6.24214903 5.33428439,5.11026918 L5.33428439,2.10118448 C5.33428439,0.969303261 4.41451882,0.0495376956 3.2826376,0.0495376956 L3.2826376,0.0495376956 Z" id="Shape"></path>
                                    <path d="M0.277829768,3.46892297 C0.131747046,3.46666758 -0.00228293577,3.60069619 -2.62151977e-05,3.74677891 L-2.62151977e-05,5.1145366 C-2.62151977e-05,6.83681201 1.32262269,8.24623865 3.00908469,8.38435551 L3.00908469,9.35033921 L1.91487307,9.35033921 C1.76379391,9.35033921 1.64132017,9.47280884 1.64132017,9.62389211 C1.64132017,9.77497538 1.76379391,9.89744502 1.91487307,9.89744502 L4.65040212,9.89744502 C4.80148129,9.89744502 4.92395503,9.77497538 4.92395503,9.62389211 C4.92395503,9.47280884 4.80148129,9.35064011 4.65040212,9.35033921 L3.5561905,9.35033921 L3.5561905,8.38435551 C5.24265237,8.24623865 6.56529592,6.83681201 6.56529592,5.1145366 L6.56529592,3.74677891 C6.56731043,3.60225818 6.43625533,3.46933062 6.29171955,3.46933062 C6.14718377,3.46933062 6.01612321,3.60225818 6.01816665,3.74677891 L6.01816665,5.1145366 C6.01816665,6.63475216 4.80285179,7.85006565 3.2826376,7.85006565 C1.76242204,7.85006565 0.547108409,6.63475216 0.547108409,5.1145366 L0.547108409,3.74677891 C0.549351543,3.60354661 0.421062069,3.47118667 0.277829768,3.46892297 Z" id="Path"></path>
                                </g>
                            </g>
                        </g>
                    </svg>
                </div>
                <div id="videoRecordButton" class="nav-button action-button" onclick="videoRecord()">
                    <svg class="svgicon" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g id="Icones_Fill" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <g id="Message-video">
                                <path d="M12,2 C17.5228475,2 22,6.4771525 22,12 L22,22 L22,22 L12,22 C6.4771525,22 2,17.5228475 2,12 C2,6.4771525 6.4771525,2 12,2 Z" id="Rectangle-Copy-3" fill="#000000"></path>
                                <g id="noun_Camera_2292906" transform="translate(7.000000, 8.000000)" fill="#FFFFFF" fill-rule="nonzero">
                                    <path d="M8.92857143,0.992063492 L7.25198413,0.992063492 L6.88988095,0.27281746 C6.80555556,0.104166667 6.63690476,0 6.4484127,0 L3.47222222,0 C3.28373016,0 3.11011905,0.104166667 3.03075397,0.27281746 L2.66865079,0.992063492 L0.992063492,0.992063492 C0.446428571,0.992063492 0,1.43849206 0,1.98412698 L0,6.94444444 C0,7.49007937 0.446428571,7.93650794 0.992063492,7.93650794 L8.92857143,7.93650794 C9.47420635,7.93650794 9.92063492,7.49007937 9.92063492,6.94444444 L9.92063492,1.98412698 C9.92063492,1.43849206 9.47420635,0.992063492 8.92857143,0.992063492 Z M2.97619048,4.46428571 C2.97619048,3.36805556 3.8640873,2.48015873 4.96031746,2.48015873 C6.05654762,2.48015873 6.94444444,3.36805556 6.94444444,4.46428571 C6.94444444,5.56051587 6.05654762,6.4484127 4.96031746,6.4484127 C3.8640873,6.4484127 2.97619048,5.56051587 2.97619048,4.46428571 Z" id="Shape"></path>
                                    <path d="M5.95238095,4.46428571 C5.95238095,3.91865079 5.50595238,3.47222222 4.96031746,3.47222222 C4.41468254,3.47222222 3.96825397,3.91865079 3.96825397,4.46428571 C3.96825397,5.00992063 4.41468254,5.45634921 4.96031746,5.45634921 C5.50595238,5.45634921 5.95238095,5.00992063 5.95238095,4.46428571 Z" id="Path"></path>
                                </g>
                            </g>
                        </g>
                    </svg>
                </div>
                <div id="emojiButton" class=" action-button nav-button">
                    <svg class="svgicon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none" />
                        <path
                            d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z" />
                    </svg>
                </div>
                <textarea id="message" autofocus onkeyup="grow_text_area()" onkeydown="process_messagebar_keydown()"
                          dir="auto" rows="1"></textarea>
                <div id="sendButton" class="nav-button action-button" onclick="sendMessage();">
                    <svg class="svgicon" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g id="Icones_Outline" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <g id="Send_Black_24dp" fill="#000000" fill-rule="nonzero" stroke="#000000" stroke-width="0.25">
                                <g id="noun_send_1433498" transform="translate(2.000000, 3.000000)">
                                    <path d="M19.9969592,9.18267179 C19.9781751,8.90024996 19.8058243,8.65095392 19.5482413,8.53362564 L1.08667923,0.0721076923 C0.792197357,-0.0603940747 0.446309543,0.00511313413 0.220671983,0.236119592 C-0.00496557741,0.467126051 -0.0623223924,0.814458413 0.0770664103,1.10574359 L4.01937359,9.23074872 L0.0770376923,17.3557487 C-0.0623821896,17.6470495 -0.00502577103,17.9944168 0.220638232,18.2254358 C0.446302236,18.4564548 0.792229135,18.5219407 1.08671897,18.3893897 L19.5482977,9.92782564 C19.837429,9.79594495 20.0157137,9.49985813 19.9970131,9.18262051 L19.9969592,9.18267179 Z M17.3847821,9.23074872 L2.40077077,16.0977231 L5.56585821,9.56728718 C5.66919895,9.35483568 5.6691929,9.10668236 5.56584179,8.8942359 L2.40077077,2.36378718 L17.3847821,9.23074872 Z" id="Shape"></path>
                                </g>
                            </g>
                        </g>
                    </svg>
                </div>
            </div>
        </div>
        <div id="data_transfer_send_container"></div>
    </div>
</body>
</html>
